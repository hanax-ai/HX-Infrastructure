# Managed by Ansible (hx_webui_install)

# Put all runtime state under /var/lib/open-webui (not /home)
DATA_DIR=/var/lib/open-webui
HOME=/var/lib/open-webui
XDG_DATA_HOME=/var/lib/open-webui/.local/share
XDG_CACHE_HOME=/var/lib/open-webui/.cache
XDG_CONFIG_HOME=/var/lib/open-webui/.config

# Secret so the app does NOT try to touch $HOME/.webui_secret_key
# (Use dedicated "webui_secret_key" in vault; fallback to existing webui_jwt_secret)
WEBUI_SECRET_KEY={{ webui_secret_key | default(webui_jwt_secret) }}

# Backend(s) (semicolon-separated for failover)
OLLAMA_BASE_URLS={{ ollama_base_urls }}

# Optional built-in auth (enable only if configured in vault)
{% if webui_auth_enabled | default(false) %}
WEBUI_AUTH=true
WEBUI_ADMIN_EMAIL={{ webui_admin_email }}
WEBUI_ADMIN_PASSWORD={{ webui_admin_password }}
JWT_SECRET={{ webui_jwt_secret }}
{% endif %}

# CORS / origins
WEBUI_ALLOWED_ORIGINS={{ webui_allowed_origins | default('http://hx-webui-server.dev-test.hana-x.ai') }}
ENABLE_SIGNUP=true
